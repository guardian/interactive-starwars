!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function e(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function r(){this._=Object.create(null)}function i(t){return(t+="")===rt||t[0]===it?it+t:t}function o(t){return(t+="")[0]===it?t.slice(1):t}function u(t){return i(t)in this._}function a(t){return(t=i(t))in this._&&delete this._[t]}function s(){var t=[];for(var n in this._)t.push(o(n));return t}function l(){var t=0;for(var n in this._)++t;return t}function c(){for(var t in this._)return!1;return!0}function f(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=ut.length;r>e;++e){var i=ut[e]+n;if(i in t)return i}}function h(t){return ot(t,ct),t}function p(t){return"function"==typeof t?t:function(){return at(t,this)}}function v(t){return"function"==typeof t?t:function(){return st(t,this)}}function g(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=J.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?a:u:t.local?o:i}function d(t){return t.trim().replace(/\s+/g," ")}function m(t){return new RegExp("(?:^|\\s+)"+J.requote(t)+"(?:\\s+|$)","g")}function _(t){return(t+"").trim().split(/^|\s+/)}function y(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=_(t).map(w);var i=t.length;return"function"==typeof n?r:e}function w(t){var n=m(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",d(i+" "+t))):e.setAttribute("class",d(i.replace(n," ")))}}function N(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function o(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?o:i}function b(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function A(t){function n(){var n=this.ownerDocument,e=this.namespaceURI;return e?n.createElementNS(e,t):n.createElement(t)}function e(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=J.ns.qualify(t)).local?e:n}function x(){var t=this.parentNode;t&&t.removeChild(this)}function S(){this._=Object.create(null)}function E(t){return{__data__:t}}function z(t){return function(){return lt(this,t)}}function q(t,n){return n>t?-1:t>n?1:t>=n?0:NaN}function T(t){return arguments.length||(t=q),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function D(){}function L(){}function P(t){function n(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],i=new r;return n.on=function(n,r){var o,u=i.get(n);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,o=e.indexOf(u)).concat(e.slice(o+1)),i.remove(n)),r&&e.push(i.set(n,{on:r})),t)},n}function C(t,n,e){function r(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function i(){var i=s(n,F(arguments));r.call(this),this.addEventListener(t,this[u]=i,i.$=e),i._=n}function o(){var n,e=new RegExp("^__on([^.]+)"+J.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var u="__on"+t,a=t.indexOf("."),s=O;a>0&&(t=t.slice(0,a));var l=pt.get(t);return l&&(t=l,s=M),a?n?i:r:n?D:o}function O(t,n){return function(e){var r=J.event;J.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{J.event=r}}}function M(t,n){var e=O(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function k(t,n){for(var e=0,r=t.length;r>e;e++)for(var i,o=t[e],u=0,a=o.length;a>u;u++)(i=o[u])&&n(i,u,e);return t}function R(t){return ot(t,vt),t}function H(t){var n,e;return function(r,i,o){var u,a=t[o].update,s=a.length;for(o!=e&&(e=o,n=0),i>=n&&(n=i+1);!(u=a[n])&&++n<s;);return u}}function $(t){return t}function j(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function V(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),X(n,e,t,r)}}function X(t,n,e,r){function i(){var t,n=s.status;if(!n&&B(s)||n>=200&&300>n||304===n){try{t=e.call(o,s)}catch(r){return void u.error.call(o,r)}u.load.call(o,t)}else u.error.call(o,s)}var o={},u=J.dispatch("beforesend","progress","load","error"),a={},s=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(t){var n=J.event;J.event=t;try{u.progress.call(o,s)}finally{J.event=n}},o.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==n?delete a[t]:a[t]=n+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return e=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(F(arguments)))}}),o.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(e,t,!0),null==n||"accept"in a||(a.accept=n+",*/*"),s.setRequestHeader)for(var c in a)s.setRequestHeader(c,a[c]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=l&&(s.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),u.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},J.rebind(o,u,"on"),null==r?o:o.get(I(r))}function I(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function B(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function U(t){return JSON.parse(t.responseText)}var J={version:"3.5.5"},K=[].slice,F=function(t){return K.call(t)},G=this.document;if(G)try{F(G.documentElement.childNodes)[0].nodeType}catch(Q){F=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}if(Date.now||(Date.now=function(){return+new Date}),G)try{G.createElement("DIV").style.setProperty("opacity",0,"")}catch(W){var Y=this.Element.prototype,Z=Y.setAttribute,tt=Y.setAttributeNS,nt=this.CSSStyleDeclaration.prototype,et=nt.setProperty;Y.setAttribute=function(t,n){Z.call(this,t,n+"")},Y.setAttributeNS=function(t,n,e){tt.call(this,t,n,e+"")},nt.setProperty=function(t,n,e){et.call(this,t,n+"",e)}}J.map=function(t,n){var e=new r;if(t instanceof r)t.forEach(function(t,n){e.set(t,n)});else if(Array.isArray(t)){var i,o=-1,u=t.length;if(1===arguments.length)for(;++o<u;)e.set(o,t[o]);else for(;++o<u;)e.set(n.call(t,i=t[o],o),i)}else for(var a in t)e.set(a,t[a]);return e};var rt="__proto__",it="\x00";e(r,{has:u,get:function(t){return this._[i(t)]},set:function(t,n){return this._[i(t)]=n},remove:a,keys:s,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:o(n),value:this._[n]});return t},size:l,empty:c,forEach:function(t){for(var n in this._)t.call(this,o(n),this._[n])}}),J.nest=function(){function t(n,a,s){if(s>=u.length)return i?i.call(o,a):e?a.sort(e):a;for(var l,c,f,h,p=-1,v=a.length,g=u[s++],d=new r;++p<v;)(h=d.get(l=g(c=a[p])))?h.push(c):d.set(l,[c]);return n?(c=n(),f=function(e,r){c.set(e,t(n,r,s))}):(c={},f=function(e,r){c[e]=t(n,r,s)}),d.forEach(f),c}function n(t,e){if(e>=u.length)return t;var r=[],i=a[e++];return t.forEach(function(t,i){r.push({key:t,values:n(i,e)})}),i?r.sort(function(t,n){return i(t.key,n.key)}):r}var e,i,o={},u=[],a=[];return o.map=function(n,e){return t(e,n,0)},o.entries=function(e){return n(t(J.map,e,0),0)},o.key=function(t){return u.push(t),o},o.sortKeys=function(t){return a[u.length-1]=t,o},o.sortValues=function(t){return e=t,o},o.rollup=function(t){return i=t,o},o};var ot={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},ut=["webkit","ms","moz","Moz","o","O"],at=function(t,n){return n.querySelector(t)},st=function(t,n){return n.querySelectorAll(t)},lt=function(t,n){var e=t.matches||t[f(t,"matchesSelector")];return(lt=function(t,n){return e.call(t,n)})(t,n)};"function"==typeof Sizzle&&(at=function(t,n){return Sizzle(t,n)[0]||null},st=Sizzle,lt=Sizzle.matchesSelector),J.selection=function(){return J.select(G.documentElement)};var ct=J.selection.prototype=[];ct.select=function(t){var n,e,r,i,o=[];t=p(t);for(var u=-1,a=this.length;++u<a;){o.push(n=[]),n.parentNode=(r=this[u]).parentNode;for(var s=-1,l=r.length;++s<l;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,u)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return h(o)},ct.selectAll=function(t){var n,e,r=[];t=v(t);for(var i=-1,o=this.length;++i<o;)for(var u=this[i],a=-1,s=u.length;++a<s;)(e=u[a])&&(r.push(n=F(t.call(e,e.__data__,a,i))),n.parentNode=e);return h(r)};var ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};J.ns={prefix:ft,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.slice(0,n),t=t.slice(n+1)),ft.hasOwnProperty(e)?{space:ft[e],local:t}:t}},ct.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=J.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(g(n,t[n]));return this}return this.each(g(t,n))},J.requote=function(t){return t.replace(ht,"\\$&")};var ht=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ct.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=_(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!m(t[i]).test(n))return!1;return!0}for(n in t)this.each(y(n,t[n]));return this}return this.each(y(t,n))},ct.style=function(t,e,r){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(r in t)this.each(N(r,t[r],e));return this}if(2>i){var o=this.node();return n(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(N(t,e,r))},ct.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(b(n,t[n]));return this}return this.each(b(t,n))},ct.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ct.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ct.append=function(t){return t=A(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ct.insert=function(t,n){return t=A(t),n=p(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},ct.remove=function(){return this.each(x)},J.set=function(t){var n=new S;if(t)for(var e=0,r=t.length;r>e;++e)n.add(t[e]);return n},e(S,{has:u,add:function(t){return this._[i(t+="")]=!0,t},remove:a,values:s,size:l,empty:c,forEach:function(t){for(var n in this._)t.call(this,o(n))}}),ct.data=function(t,n){function e(t,e){var i,o,u,a=t.length,f=e.length,h=Math.min(a,f),p=new Array(f),v=new Array(f),g=new Array(a);if(n){var d,m=new r,_=new Array(a);for(i=-1;++i<a;)m.has(d=n.call(o=t[i],o.__data__,i))?g[i]=o:m.set(d,o),_[i]=d;for(i=-1;++i<f;)(o=m.get(d=n.call(e,u=e[i],i)))?o!==!0&&(p[i]=o,o.__data__=u):v[i]=E(u),m.set(d,!0);for(i=-1;++i<a;)m.get(_[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<h;)o=t[i],u=e[i],o?(o.__data__=u,p[i]=o):v[i]=E(u);for(;f>i;++i)v[i]=E(e[i]);for(;a>i;++i)g[i]=t[i]}v.update=p,v.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(v),l.push(p),c.push(g)}var i,o,u=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++u<a;)(o=i[u])&&(t[u]=o.__data__);return t}var s=R([]),l=h([]),c=h([]);if("function"==typeof t)for(;++u<a;)e(i=this[u],t.call(i,i.parentNode.__data__,u));else for(;++u<a;)e(i=this[u],t);return l.enter=function(){return s},l.exit=function(){return c},l},ct.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ct.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=z(t));for(var o=0,u=this.length;u>o;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,o)&&n.push(r)}return h(i)},ct.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];--i>=0;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},J.ascending=q,ct.sort=function(t){t=T.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},J.dispatch=function(){for(var t=new L,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=P(t);return t},L.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},J.event=null,ct.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t)this.each(C(e,t[e],n));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(C(t,n,e))};var pt=J.map({mouseenter:"mouseover",mouseleave:"mouseout"});G&&pt.forEach(function(t){"on"+t in G&&pt.remove(t)}),ct.each=function(t){return k(this,function(n,e,r){t.call(n,n.__data__,e,r)})},ct.call=function(t){var n=F(arguments);return t.apply(n[0]=this,n),this},ct.empty=function(){return!this.node()},ct.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],r=0,i=e.length;i>r;r++){var o=e[r];if(o)return o}return null},ct.size=function(){var t=0;return k(this,function(){++t}),t};var vt=[];J.selection.enter=R,J.selection.enter.prototype=vt,vt.append=ct.append,vt.empty=ct.empty,vt.node=ct.node,vt.call=ct.call,vt.size=ct.size,vt.select=function(t){for(var n,e,r,i,o,u=[],a=-1,s=this.length;++a<s;){r=(i=this[a]).update,u.push(n=[]),n.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(n.push(r[l]=e=t.call(i.parentNode,o.__data__,l,a)),e.__data__=o.__data__):n.push(null)}return h(u)},vt.insert=function(t,n){return arguments.length<2&&(n=H(this)),ct.insert.call(this,t,n)},J.select=function(n){var e;return"string"==typeof n?(e=[at(n,G)],e.parentNode=G.documentElement):(e=[n],e.parentNode=t(n)),h([e])},J.selectAll=function(t){var n;return"string"==typeof t?(n=F(st(t,G)),n.parentNode=G.documentElement):(n=t,n.parentNode=null),h([n])},J.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=j(t,n,n[e]);return t},J.xhr=V($),J.json=function(t,n){return X(t,"application/json",U,n)},"function"==typeof define&&define.amd?define(J):"object"==typeof module&&module.exports&&(module.exports=J),this.d3=J}();